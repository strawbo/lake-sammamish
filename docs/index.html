<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Lake Sammamish Water Temperature</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
</head>
<body>
    <h1>Lake Sammamish Water Temperature</h1>
    <canvas id="lakeChart" width="400" height="200"></canvas>
    <script>
        const dataCurrent = [{"date":"2025-02-22T00:00:00.000","max_temperature_f":43.4},{"date":"2025-02-23T00:00:00.000","max_temperature_f":44.3},{"date":"2025-02-24T00:00:00.000","max_temperature_f":43.6},{"date":"2025-02-25T00:00:00.000","max_temperature_f":43.4},{"date":"2025-02-26T00:00:00.000","max_temperature_f":44.0},{"date":"2025-02-27T00:00:00.000","max_temperature_f":45.1},{"date":"2025-02-28T00:00:00.000","max_temperature_f":44.9},{"date":"2025-03-01T00:00:00.000","max_temperature_f":46.8},{"date":"2025-03-02T00:00:00.000","max_temperature_f":46.8},{"date":"2025-03-03T00:00:00.000","max_temperature_f":46.8},{"date":"2025-03-04T00:00:00.000","max_temperature_f":46.4},{"date":"2025-03-05T00:00:00.000","max_temperature_f":45.8},{"date":"2025-03-06T00:00:00.000","max_temperature_f":44.7},{"date":"2025-03-07T00:00:00.000","max_temperature_f":46.0},{"date":"2025-03-08T00:00:00.000","max_temperature_f":46.1},{"date":"2025-03-09T00:00:00.000","max_temperature_f":45.7},{"date":"2025-03-10T00:00:00.000","max_temperature_f":44.8},{"date":"2025-03-11T00:00:00.000","max_temperature_f":45.0},{"date":"2025-03-12T00:00:00.000","max_temperature_f":45.7},{"date":"2025-03-13T00:00:00.000","max_temperature_f":45.2},{"date":"2025-03-14T00:00:00.000","max_temperature_f":45.3},{"date":"2025-03-15T00:00:00.000","max_temperature_f":45.2}];
        const dataPast = [{"date":"2024-02-22T00:00:00.000","pyear":2024.0,"max_temperature_f":45.3},{"date":"2024-02-23T00:00:00.000","pyear":2024.0,"max_temperature_f":46.3},{"date":"2024-02-24T00:00:00.000","pyear":2024.0,"max_temperature_f":46.1},{"date":"2024-02-25T00:00:00.000","pyear":2024.0,"max_temperature_f":45.8},{"date":"2024-02-26T00:00:00.000","pyear":2024.0,"max_temperature_f":45.0},{"date":"2024-02-27T00:00:00.000","pyear":2024.0,"max_temperature_f":44.9},{"date":"2024-02-28T00:00:00.000","pyear":2024.0,"max_temperature_f":44.8},{"date":"2024-02-29T00:00:00.000","pyear":2024.0,"max_temperature_f":44.9},{"date":"2024-03-01T00:00:00.000","pyear":2024.0,"max_temperature_f":44.9},{"date":"2024-03-02T00:00:00.000","pyear":2024.0,"max_temperature_f":44.9},{"date":"2024-03-03T00:00:00.000","pyear":2024.0,"max_temperature_f":44.8},{"date":"2024-03-04T00:00:00.000","pyear":2024.0,"max_temperature_f":45.0},{"date":"2024-03-05T00:00:00.000","pyear":2024.0,"max_temperature_f":45.6},{"date":"2024-03-06T00:00:00.000","pyear":2024.0,"max_temperature_f":45.0},{"date":"2024-03-07T00:00:00.000","pyear":2024.0,"max_temperature_f":45.4},{"date":"2024-03-08T00:00:00.000","pyear":2024.0,"max_temperature_f":46.0},{"date":"2024-03-09T00:00:00.000","pyear":2024.0,"max_temperature_f":45.7},{"date":"2024-03-10T00:00:00.000","pyear":2024.0,"max_temperature_f":44.9},{"date":"2024-03-11T00:00:00.000","pyear":2024.0,"max_temperature_f":45.0},{"date":"2024-03-12T00:00:00.000","pyear":2024.0,"max_temperature_f":45.2},{"date":"2024-03-13T00:00:00.000","pyear":2024.0,"max_temperature_f":45.7},{"date":"2024-03-14T00:00:00.000","pyear":2024.0,"max_temperature_f":45.8},{"date":"2024-03-15T00:00:00.000","pyear":2024.0,"max_temperature_f":46.7},{"date":"2024-03-16T00:00:00.000","pyear":2024.0,"max_temperature_f":47.7},{"date":"2024-03-17T00:00:00.000","pyear":2024.0,"max_temperature_f":50.2},{"date":"2024-03-18T00:00:00.000","pyear":2024.0,"max_temperature_f":50.5},{"date":"2024-03-19T00:00:00.000","pyear":2024.0,"max_temperature_f":52.8},{"date":"2024-03-20T00:00:00.000","pyear":2024.0,"max_temperature_f":52.2},{"date":"2024-03-21T00:00:00.000","pyear":2024.0,"max_temperature_f":50.8},{"date":"2024-03-22T00:00:00.000","pyear":2024.0,"max_temperature_f":50.8},{"date":"2024-03-23T00:00:00.000","pyear":2024.0,"max_temperature_f":51.1},{"date":"2024-03-24T00:00:00.000","pyear":2024.0,"max_temperature_f":51.3},{"date":"2024-03-25T00:00:00.000","pyear":2024.0,"max_temperature_f":52.3},{"date":"2024-03-26T00:00:00.000","pyear":2024.0,"max_temperature_f":46.7},{"date":"2024-03-27T00:00:00.000","pyear":2024.0,"max_temperature_f":47.7},{"date":"2024-03-28T00:00:00.000","pyear":2024.0,"max_temperature_f":49.0},{"date":"2024-03-29T00:00:00.000","pyear":2024.0,"max_temperature_f":50.9},{"date":"2024-03-30T00:00:00.000","pyear":2024.0,"max_temperature_f":51.4},{"date":"2024-03-31T00:00:00.000","pyear":2024.0,"max_temperature_f":51.7},{"date":"2024-04-01T00:00:00.000","pyear":2024.0,"max_temperature_f":53.2},{"date":"2024-04-02T00:00:00.000","pyear":2024.0,"max_temperature_f":53.2},{"date":"2024-04-03T00:00:00.000","pyear":2024.0,"max_temperature_f":54.0},{"date":"2024-04-04T00:00:00.000","pyear":2024.0,"max_temperature_f":52.1},{"date":"2024-04-05T00:00:00.000","pyear":2024.0,"max_temperature_f":51.2}];

        
const datasets = [
    {
        label: "Current Year",
        data: dataCurrent.map(row => ({ x: row.date, y: row.max_temperature_f })),
        borderColor: "rgba(75, 192, 192, 1)",
        backgroundColor: "rgba(75, 192, 192, 0.2)",
        fill: false,
        borderWidth: 5,
        tension: 0.1
    },
    {
        label: "Year 2024.0",
        data: dataPast.filter(row => row.pYear === 2024.0).map(row => ({
            x: row.date,
            y: row.max_temperature_f
        })),
        borderColor: "rgba(192, 75, 75, 1)",
        borderDash: [5, 5],
        tension: 0.1
    }
];

        const ctx = document.getElementById("lakeChart").getContext("2d");

        new Chart(ctx, {
            type: "line",
            data: {
                datasets: datasets
            },
            options: {
                scales: {
                    x: {
                        type: "time",
                        time: {
                            unit: "day",
                            tooltipFormat: "MMM d",
                            displayFormats: {
                                day: "MMM d"
                            }
                        },
                        title: {
                            display: true,
                            text: "Date"
                        }
                    },
                    y: {
                        suggestedMin: 50,
                        suggestedMax: 90,
                        title: {
                            display: true,
                            text: "Temperature (Â°F)"
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>